{"ast":null,"code":"var _jsxFileName = \"/Users/ranjitshahkanu/Documents/blood-donation-system/frontend/src/pages/Login.js\",\n  _s = $RefreshSig$();\n// src/pages/Login.js\n\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { loginDonor } from \"../services/donorService\";\n\n// --- Login Page Styles ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst styles = {\n  container: {\n    maxWidth: \"400px\",\n    margin: \"80px auto 40px\",\n    padding: \"30px\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: \"12px\",\n    boxShadow: \"0 4px 15px rgba(0, 0, 0, 0.1)\",\n    fontFamily: \"'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\",\n    borderTop: \"5px solid #00796b\",\n    // Teal accent for login/reliability\n    textAlign: \"center\"\n  },\n  heading: {\n    color: \"#d32f2f\",\n    // Red for urgency/attention\n    marginBottom: \"25px\"\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"15px\"\n  },\n  input: {\n    padding: \"12px 15px\",\n    border: \"1px solid #b0bec5\",\n    borderRadius: \"6px\",\n    fontSize: \"16px\",\n    transition: \"border-color 0.3s, box-shadow 0.3s\"\n  },\n  button: {\n    padding: \"12px 20px\",\n    backgroundColor: \"#d32f2f\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"6px\",\n    cursor: \"pointer\",\n    fontSize: \"16px\",\n    fontWeight: \"bold\",\n    transition: \"background-color 0.3s\",\n    textTransform: \"uppercase\",\n    letterSpacing: \"1px\",\n    marginTop: \"10px\"\n  },\n  registerLink: {\n    marginTop: \"20px\",\n    fontSize: \"0.9em\"\n  },\n  linkStyle: {\n    color: \"#00796b\",\n    textDecoration: \"none\",\n    fontWeight: \"bold\"\n  },\n  message: {\n    marginTop: \"20px\",\n    padding: \"10px\",\n    borderRadius: \"6px\",\n    backgroundColor: \"#fff3e0\",\n    // Warning/Error color\n    color: \"#ff9800\"\n  }\n};\nconst Login = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setMessage(\"Logging in...\");\n    try {\n      const data = await loginDonor(formData);\n\n      // 1. Store the token (Crucial step)\n      localStorage.setItem(\"token\", data.token);\n      setMessage(\"Login successful! Redirecting to profile...\");\n\n      // 2. Redirect to the profile page\n      setTimeout(() => {\n        navigate(\"/profile\");\n      }, 1000);\n    } catch (err) {\n      // API error handling from donorService\n      const errorMsg = err.message || err.error || \"Login failed. Check your credentials.\";\n      setMessage(errorMsg);\n      console.error(\"Login Error:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: styles.heading,\n      children: \"Donor Login \\uD83D\\uDD11\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.message,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      style: styles.form,\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email Address\",\n        value: formData.email,\n        onChange: handleChange,\n        style: styles.input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: formData.password,\n        onChange: handleChange,\n        style: styles.input,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        style: styles.button,\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: styles.registerLink,\n      children: [\"New Donor?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/register\",\n        style: styles.linkStyle,\n        children: \"Register Here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"8GTes08IUcSBKxmRNA1lRJfAkmQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Link","useNavigate","loginDonor","jsxDEV","_jsxDEV","styles","container","maxWidth","margin","padding","backgroundColor","borderRadius","boxShadow","fontFamily","borderTop","textAlign","heading","color","marginBottom","form","display","flexDirection","gap","input","border","fontSize","transition","button","cursor","fontWeight","textTransform","letterSpacing","marginTop","registerLink","linkStyle","textDecoration","message","Login","_s","formData","setFormData","email","password","setMessage","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","data","localStorage","setItem","token","setTimeout","err","errorMsg","error","console","style","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","required","to","_c","$RefreshReg$"],"sources":["/Users/ranjitshahkanu/Documents/blood-donation-system/frontend/src/pages/Login.js"],"sourcesContent":["// src/pages/Login.js\n\nimport React, { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { loginDonor } from \"../services/donorService\";\n\n// --- Login Page Styles ---\nconst styles = {\n  container: {\n    maxWidth: \"400px\",\n    margin: \"80px auto 40px\",\n    padding: \"30px\",\n    backgroundColor: \"#ffffff\",\n    borderRadius: \"12px\",\n    boxShadow: \"0 4px 15px rgba(0, 0, 0, 0.1)\",\n    fontFamily: \"'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\",\n    borderTop: \"5px solid #00796b\", // Teal accent for login/reliability\n    textAlign: \"center\",\n  },\n  heading: {\n    color: \"#d32f2f\", // Red for urgency/attention\n    marginBottom: \"25px\",\n  },\n  form: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    gap: \"15px\",\n  },\n  input: {\n    padding: \"12px 15px\",\n    border: \"1px solid #b0bec5\",\n    borderRadius: \"6px\",\n    fontSize: \"16px\",\n    transition: \"border-color 0.3s, box-shadow 0.3s\",\n  },\n  button: {\n    padding: \"12px 20px\",\n    backgroundColor: \"#d32f2f\",\n    color: \"white\",\n    border: \"none\",\n    borderRadius: \"6px\",\n    cursor: \"pointer\",\n    fontSize: \"16px\",\n    fontWeight: \"bold\",\n    transition: \"background-color 0.3s\",\n    textTransform: \"uppercase\",\n    letterSpacing: \"1px\",\n    marginTop: \"10px\",\n  },\n  registerLink: {\n    marginTop: \"20px\",\n    fontSize: \"0.9em\",\n  },\n  linkStyle: {\n    color: \"#00796b\",\n    textDecoration: \"none\",\n    fontWeight: \"bold\",\n  },\n  message: {\n    marginTop: \"20px\",\n    padding: \"10px\",\n    borderRadius: \"6px\",\n    backgroundColor: \"#fff3e0\", // Warning/Error color\n    color: \"#ff9800\",\n  },\n};\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const [message, setMessage] = useState(\"\");\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMessage(\"Logging in...\");\n\n    try {\n      const data = await loginDonor(formData);\n\n      // 1. Store the token (Crucial step)\n      localStorage.setItem(\"token\", data.token);\n\n      setMessage(\"Login successful! Redirecting to profile...\");\n\n      // 2. Redirect to the profile page\n      setTimeout(() => {\n        navigate(\"/profile\");\n      }, 1000);\n    } catch (err) {\n      // API error handling from donorService\n      const errorMsg =\n        err.message || err.error || \"Login failed. Check your credentials.\";\n      setMessage(errorMsg);\n      console.error(\"Login Error:\", err);\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <h2 style={styles.heading}>Donor Login ðŸ”‘</h2>\n\n      {message && <p style={styles.message}>{message}</p>}\n\n      <form style={styles.form} onSubmit={handleSubmit}>\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email Address\"\n          value={formData.email}\n          onChange={handleChange}\n          style={styles.input}\n          required\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={handleChange}\n          style={styles.input}\n          required\n        />\n        <button type=\"submit\" style={styles.button}>\n          Log In\n        </button>\n      </form>\n\n      <p style={styles.registerLink}>\n        New Donor?{\" \"}\n        <Link to=\"/register\" style={styles.linkStyle}>\n          Register Here\n        </Link>\n      </p>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}