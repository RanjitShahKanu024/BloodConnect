{"ast":null,"code":"// src/services/donorService.js (FULL CODE - Added Search & Admin Functions)\n\nimport axios from \"axios\";\nconst API_URL = \"http://localhost:5000/api/donors\";\n\n// Helper to create headers\nconst createAuthHeaders = token => ({\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n// --- PUBLIC SERVICES ---\n\nexport const registerDonor = async donorData => {\n  try {\n    const response = await axios.post(`${API_URL}/register`, donorData);\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const loginDonor = async loginData => {\n  try {\n    const response = await axios.post(`${API_URL}/login`, loginData);\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const searchDonors = async params => {\n  try {\n    const response = await axios.get(`${API_URL}/search`, {\n      params\n    });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n// --- PRIVATE USER SERVICES ---\n\nexport const getDonorProfile = async token => {\n  try {\n    const response = await axios.get(`${API_URL}/profile`, createAuthHeaders(token));\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const updateDonorProfile = async (donorId, profileData, token) => {\n  try {\n    const response = await axios.put(`${API_URL}/profile`, profileData, createAuthHeaders(token));\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\nexport const updateDonorAvailability = async (donorId, isAvailable, token) => {\n  try {\n    const response = await axios.put(`${API_URL}/availability`, {\n      isAvailable\n    }, createAuthHeaders(token));\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n// --- ADMIN SERVICES ---\n\n/**\n * Admin: Fetch all registered donors\n */\nexport const getAllDonorsAdmin = async token => {\n  try {\n    const response = await axios.get(`${API_URL}/admin/all`, createAuthHeaders(token));\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n/**\n * Admin: Delete a specific donor by ID\n */\nexport const deleteDonorAdmin = async (id, token) => {\n  try {\n    const response = await axios.delete(`${API_URL}/admin/${id}`, createAuthHeaders(token));\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n/**\n * Admin: Toggle verification status for a donor\n */\nexport const toggleVerifyDonorAdmin = async (id, isVerified, token) => {\n  try {\n    const response = await axios.put(`${API_URL}/admin/verify/${id}`, {\n      isVerified\n    }, createAuthHeaders(token));\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","createAuthHeaders","token","headers","Authorization","registerDonor","donorData","response","post","data","error","loginDonor","loginData","searchDonors","params","get","getDonorProfile","updateDonorProfile","donorId","profileData","put","updateDonorAvailability","isAvailable","getAllDonorsAdmin","deleteDonorAdmin","id","delete","toggleVerifyDonorAdmin","isVerified"],"sources":["/Users/ranjitshahkanu/Documents/blood-donation-system copy/frontend/src/services/donorService.js"],"sourcesContent":["// src/services/donorService.js (FULL CODE - Added Search & Admin Functions)\n\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:5000/api/donors\";\n\n// Helper to create headers\nconst createAuthHeaders = (token) => ({\n  headers: { Authorization: `Bearer ${token}` },\n});\n\n// --- PUBLIC SERVICES ---\n\nexport const registerDonor = async (donorData) => {\n  try {\n    const response = await axios.post(`${API_URL}/register`, donorData);\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\nexport const loginDonor = async (loginData) => {\n  try {\n    const response = await axios.post(`${API_URL}/login`, loginData);\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\nexport const searchDonors = async (params) => {\n  try {\n    const response = await axios.get(`${API_URL}/search`, { params });\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n// --- PRIVATE USER SERVICES ---\n\nexport const getDonorProfile = async (token) => {\n  try {\n    const response = await axios.get(\n      `${API_URL}/profile`,\n      createAuthHeaders(token)\n    );\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\nexport const updateDonorProfile = async (donorId, profileData, token) => {\n  try {\n    const response = await axios.put(\n      `${API_URL}/profile`,\n      profileData,\n      createAuthHeaders(token)\n    );\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\nexport const updateDonorAvailability = async (donorId, isAvailable, token) => {\n  try {\n    const response = await axios.put(\n      `${API_URL}/availability`,\n      { isAvailable },\n      createAuthHeaders(token)\n    );\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n// --- ADMIN SERVICES ---\n\n/**\n * Admin: Fetch all registered donors\n */\nexport const getAllDonorsAdmin = async (token) => {\n  try {\n    const response = await axios.get(\n      `${API_URL}/admin/all`,\n      createAuthHeaders(token)\n    );\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n/**\n * Admin: Delete a specific donor by ID\n */\nexport const deleteDonorAdmin = async (id, token) => {\n  try {\n    const response = await axios.delete(\n      `${API_URL}/admin/${id}`,\n      createAuthHeaders(token)\n    );\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n\n/**\n * Admin: Toggle verification status for a donor\n */\nexport const toggleVerifyDonorAdmin = async (id, isVerified, token) => {\n  try {\n    const response = await axios.put(\n      `${API_URL}/admin/verify/${id}`,\n      { isVerified },\n      createAuthHeaders(token)\n    );\n    return response.data;\n  } catch (error) {\n    throw error.response ? error.response.data : error;\n  }\n};\n"],"mappings":"AAAA;;AAEA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,kCAAkC;;AAElD;AACA,MAAMC,iBAAiB,GAAIC,KAAK,KAAM;EACpCC,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAC9C,CAAC,CAAC;;AAEF;;AAEA,OAAO,MAAMG,aAAa,GAAG,MAAOC,SAAS,IAAK;EAChD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,WAAW,EAAEM,SAAS,CAAC;IACnE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,MAAOC,SAAS,IAAK;EAC7C,IAAI;IACF,MAAML,QAAQ,GAAG,MAAMR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,QAAQ,EAAEY,SAAS,CAAC;IAChE,OAAOL,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMG,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC5C,IAAI;IACF,MAAMP,QAAQ,GAAG,MAAMR,KAAK,CAACgB,GAAG,CAAC,GAAGf,OAAO,SAAS,EAAE;MAAEc;IAAO,CAAC,CAAC;IACjE,OAAOP,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;;AAED;;AAEA,OAAO,MAAMM,eAAe,GAAG,MAAOd,KAAK,IAAK;EAC9C,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACgB,GAAG,CAC9B,GAAGf,OAAO,UAAU,EACpBC,iBAAiB,CAACC,KAAK,CACzB,CAAC;IACD,OAAOK,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMO,kBAAkB,GAAG,MAAAA,CAAOC,OAAO,EAAEC,WAAW,EAAEjB,KAAK,KAAK;EACvE,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACqB,GAAG,CAC9B,GAAGpB,OAAO,UAAU,EACpBmB,WAAW,EACXlB,iBAAiB,CAACC,KAAK,CACzB,CAAC;IACD,OAAOK,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;AAED,OAAO,MAAMW,uBAAuB,GAAG,MAAAA,CAAOH,OAAO,EAAEI,WAAW,EAAEpB,KAAK,KAAK;EAC5E,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACqB,GAAG,CAC9B,GAAGpB,OAAO,eAAe,EACzB;MAAEsB;IAAY,CAAC,EACfrB,iBAAiB,CAACC,KAAK,CACzB,CAAC;IACD,OAAOK,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;;AAED;;AAEA;AACA;AACA;AACA,OAAO,MAAMa,iBAAiB,GAAG,MAAOrB,KAAK,IAAK;EAChD,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACgB,GAAG,CAC9B,GAAGf,OAAO,YAAY,EACtBC,iBAAiB,CAACC,KAAK,CACzB,CAAC;IACD,OAAOK,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMc,gBAAgB,GAAG,MAAAA,CAAOC,EAAE,EAAEvB,KAAK,KAAK;EACnD,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAAC2B,MAAM,CACjC,GAAG1B,OAAO,UAAUyB,EAAE,EAAE,EACxBxB,iBAAiB,CAACC,KAAK,CACzB,CAAC;IACD,OAAOK,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMiB,sBAAsB,GAAG,MAAAA,CAAOF,EAAE,EAAEG,UAAU,EAAE1B,KAAK,KAAK;EACrE,IAAI;IACF,MAAMK,QAAQ,GAAG,MAAMR,KAAK,CAACqB,GAAG,CAC9B,GAAGpB,OAAO,iBAAiByB,EAAE,EAAE,EAC/B;MAAEG;IAAW,CAAC,EACd3B,iBAAiB,CAACC,KAAK,CACzB,CAAC;IACD,OAAOK,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK,CAACH,QAAQ,GAAGG,KAAK,CAACH,QAAQ,CAACE,IAAI,GAAGC,KAAK;EACpD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}